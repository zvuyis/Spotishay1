<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Spotishay</title>
<style>
:root{--s-g:#1DB954;--b-k:#121212;--c-y:#181818}body{font-family:-apple-system,sans-serif;background-color:var(--b-k);color:#fff;margin:0;display:flex;flex-direction:column;align-items:center;height:100vh;justify-content:center;overflow:hidden}.c-r{background:var(--c-y);padding:2rem;border-radius:20px;width:85%;max-width:400px;text-align:center;border:1px solid #282828}h1{font-size:2.2rem;margin-bottom:1.5rem;font-style:italic}input{width:100%;background:#282828;border:1px solid transparent;border-radius:8px;padding:12px;color:#fff;margin-bottom:1rem;box-sizing:border-box;text-align:center}button{width:100%;background:var(--s-g);color:#000;border:none;border-radius:50px;padding:15px;font-weight:700;cursor:pointer;margin-bottom:10px}#d-y{margin-top:20px;font-size:2.5rem;color:var(--s-g);display:none}.m-btn{background:#333;color:#fff;font-size:0.8rem}
</style>
</head>
<body>
<div class="c-r">
<h1>Spoti<span style="color:var(--s-g)">shay</span></h1>
<input type="number" id="_0x4a2" inputmode="numeric" placeholder="SET BPM">
<input type="number" id="_0x5b1" inputmode="numeric" placeholder="SET TIME">
<button class="m-btn" id="_0x_p_v">PREVIEW BEAT</button>
<button id="_0x_g_l">GO LIVE</button>
<div id="d-y">00:00</div>
</div>
<script>
var _0x5142=["\x68\x72\x65\x66","\x73\x70\x6F\x74\x69\x66\x79\x3A\x73\x65\x61\x72\x63\x68\x3A","\x20\x62\x70\x6D\x20\x77\x6F\x72\x6B\x6F\x75\x74","\x76\x61\x6C\x75\x65","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x64\x69\x73\x70\x6C\x61\x79","\x73\x74\x79\x6C\x65","\x62\x6C\x6F\x63\x6B"];
let _ctx;

/* הפעלת סאונד באייפון דורשת אינטראקציה */
document.getElementById('_0x_p_v').addEventListener('click', function() {
    if (!_ctx) _ctx = new (window.AudioContext || window.webkitAudioContext)();
    if (_ctx.state === 'suspended') _ctx.resume();
    _0x7m1();
});

document.getElementById('_0x_g_l').addEventListener('click', function() {
    if (!_ctx) _ctx = new (window.AudioContext || window.webkitAudioContext)();
    _0xaf23();
});

function _0x7m1(){const b=document[_0x5142[4]](`_0x4a2`)[_0x5142[3]];if(!b)return;const i=60/b;const o=_ctx.createOscillator();const g=_ctx.createGain();o.connect(g);g.connect(_ctx.destination);o.type=`sine`;o.frequency.value=1000;g.gain.setValueAtTime(0,_ctx.currentTime);for(let j=0;j<8;j++){g.gain.linearRampToValueAtTime(1,_ctx.currentTime+j*i);g.gain.linearRampToValueAtTime(0,_ctx.currentTime+j*i+0.05)}o.start();o.stop(_ctx.currentTime+8*i)}

function _0xaf23(){var _0x1x=document[_0x5142[4]](`_0x4a2`)[_0x5142[3]];var _0x2x=document[_0x5142[4]](`_0x5b1`)[_0x5142[3]];if(!_0x1x||!_0x2x)return;var _0x3x=_0x5142[1]+encodeURIComponent(_0x1x+_0x5142[2]);window.location[_0x5142[0]]=_0x3x;document[_0x5142[4]](`d-y`)[_0x5142[6]][_0x5142[5]]=_0x5142[7];_0x9e12(_0x2x)}

function _0x9e12(_0x4x){var _0x5x=_0x4x*60;var _0x6x=setInterval(function(){var _0x7x=Math.floor(_0x5x/60);var _0x8x=_0x5x%60;document[_0x5142[4]](`d-y`).innerText=_0x7x.toString().padStart(2,`0`)+`:`+_0x8x.toString().padStart(2,`0`);if(--_0x5x<0){clearInterval(_0x6x);_0x_alert()}},1000)}

function _0x_alert(){const o=_ctx.createOscillator();const g=_ctx.createGain();o.connect(g);g.connect(_ctx.destination);o.type=`square`;o.frequency.value=440;g.gain.value=0.5;o.start();o.stop(_ctx.currentTime+2)}
</script>
</body>
</html>
